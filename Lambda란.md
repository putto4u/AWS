AWS에서 말하는 서버리스 람다 서비스는 **AWS Lambda**를 의미하며, 이는 **Function as a Service (FaaS)** 형태의 핵심 서버리스 컴퓨팅 서비스입니다.

Lambda는 서버를 직접 관리할 필요 없이, **이벤트(Event)**에 응답하여 코드를 실행하는 서비스입니다. 코드가 실행되는 시간 동안만 비용을 지불하므로 매우 효율적입니다.

---

##  AWS Lambda의 핵심 개념

### 1. 이벤트 기반 (Event-Driven)
Lambda는 사용자가 직접 호출하거나, AWS의 다른 서비스(예: S3, DynamoDB, API Gateway 등)에서 발생하는 **이벤트(트리거)**에 반응하여 코드를 실행합니다.

### 2. 무상태 (Stateless)
Lambda 함수는 상태를 유지하지 않는 **독립적인 함수**로 설계되어야 합니다. 함수 실행에 필요한 데이터는 DynamoDB나 S3와 같은 외부 저장소에 저장해야 합니다.

### 3. 자동 확장 (Automatic Scaling)
트래픽이 폭증해도 AWS가 자동으로 필요한 만큼의 실행 환경(컨테이너)을 생성하여 코드를 병렬로 실행합니다. 사용자는 용량 계획에 대해 걱정할 필요가 없습니다.

---

##  AWS Lambda의 실제 활용 예시 (Feat. SQS)

앞서 설명드렸던 AWS SQS(메시지 큐)와 연동하여 Lambda가 어떻게 서버리스 아키텍처를 완성하는지 구체적인 예시로 설명드리겠습니다.

### 예시: 대규모 로그 파일 비동기 처리

당신이 대규모 웹 서비스의 **로그 분석 시스템**을 구축한다고 가정해 보겠습니다. 실시간으로 엄청난 양의 로그 데이터가 발생합니다.

| 단계 | 서비스 | 설명 | Lambda의 역할 |
| :---: | :--- | :--- | :--- |
| **1. 수집** | **Kinesis/S3** | 서비스에서 발생하는 모든 로그 데이터를 S3 버킷이나 Kinesis 스트림에 쌓습니다. | 직접적인 역할 없음. 이벤트 소스 역할. |
| **2. 버퍼링** | **SQS 큐** | 로그 파일이 너무 많아 분석 시스템이 즉시 처리할 수 없을 때, **SQS 큐**가 이 로그 처리 요청을 안전하게 저장(버퍼링)합니다. | SQS에 쌓인 메시지를 **읽어오는 소비자** 역할. |
| **3. 처리 (핵심)** | **AWS Lambda** | SQS 큐에 메시지(처리할 로그 파일 정보)가 쌓이는 것을 감지하면, Lambda 함수가 자동으로 **실행**됩니다. | **메시지(로그)를 병렬로 처리**하고 분석하는 비즈니스 로직 실행. |
| **4. 결과 저장** | **DynamoDB/Elasticsearch** | Lambda가 로그를 정규화하고 분석한 최종 결과를 DynamoDB나 Elasticsearch에 저장합니다. | 최종 처리된 데이터를 **외부 DB에 기록**하는 역할. |

### Lambda가 제공하는 장점

1.  **탄력적 확장:** 로그 트래픽이 평소에는 적지만, 이벤트 발생 시 **100배로 폭증**해도 Lambda는 자동으로 수백, 수천 개의 함수 인스턴스를 동시에 실행하여 모든 요청을 처리합니다.
2.  **비용 효율성:** 로그 처리가 없는 새벽 시간에는 Lambda 함수가 실행되지 않으므로, **유휴 서버에 대한 비용을 전혀 지불할 필요가 없습니다.** 코드가 실행된 시간(밀리초 단위)과 메모리 사용량에 대해서만 비용이 부과됩니다.
3.  **운영 간소화:** 개발자는 Python이나 Node.js로 로그 처리 로직(코드)만 작성하면 되고, 서버의 OS 패치, 보안 업데이트, 용량 프로비저닝 등은 AWS가 모두 관리합니다.

---

AWS Lambda 서비스 예시2 : 사진 인화 

---

##  AWS Lambda: 사진 인화 서비스로 보는 '코드 실행 자동화'

AWS Lambda는 서버를 24시간 켜놓고 관리하는 대신, **특정 사건(이벤트)**이 발생할 때만 코드를 실행하고, 처리 후에는 즉시 종료되는 컴퓨팅 서비스입니다.

### 핵심 개념: 코드가 서버를 호출하는 것이 아니라, 이벤트가 코드를 호출한다.

| 기능 | AWS Lambda의 작동 원리 | 전통적인 서버(EC2) |
| :--- | :--- | :--- |
| **자원 운영** | 이벤트가 발생할 때만 **코드를 실행할 환경**이 생성됨. | 24시간 서버 하드웨어를 **켜놓고 대기**해야 함. |
| **비용 지불** | 코드가 실행되는 **시간(밀리초)** 단위로만 지불. | 서버가 켜져 있는 **시간 전체**에 대해 지불. |
| **확장** | 요청이 폭주하면, **AWS가 자동으로 수많은 인스턴스**를 만들어 병렬 처리. | 사용자가 트래픽을 예측하여 서버를 **미리 수동 증설**해야 함. |

---

##  예시: 사용자가 사진을 업로드할 때 발생하는 일

이 시나리오에서 **AWS Lambda**는 서버 관리 없이 **사진 처리**라는 핵심 비즈니스 로직을 실행하는 역할을 맡습니다.

1.  **사진 업로드 (이벤트 발생):**
    * 사용자가 원본 사진 파일(`.RAW`, `.JPG` 등)을 **AWS S3**라는 클라우드 저장소에 업로드합니다.
    * 이 **"S3에 새로운 파일이 생성되었다"**는 행위 자체가 Lambda를 호출하는 **트리거(Trigger)** 이벤트가 됩니다.

2.  **Lambda 함수 실행 (코드 처리):**
    * 이벤트가 발생하면 AWS는 즉시 **AWS Lambda 함수**를 실행합니다.
    * 이 함수 내부에는 Python, Node.js 등으로 작성된 **사진 처리 코드**가 들어 있습니다. 이 코드는 다음과 같은 작업을 수행합니다.
        * 원본 사진을 읽어와서 용량을 줄입니다.
        * 모바일 앱용 썸네일(Thumbnail)을 만듭니다.
        * 워터마크를 자동으로 삽입합니다.

3.  **결과 저장 및 응답:**
    * 처리된 썸네일과 워터마크 파일은 다시 S3의 다른 폴더에 저장됩니다.
    * 사진 처리가 끝나면 Lambda 함수는 종료되고, **사용한 밀리초만큼만 비용이 청구**됩니다.

> **결론:** Lambda를 사용하면 사진이 **100만 장이든, 하루에 1장만** 올라오든 서버 용량을 고민할 필요가 없습니다. 트래픽에 따라 시스템이 **자동으로 확장/축소**되어 개발자는 오직 **"어떤 코드가 무엇을 할 것인가"** 하는 비즈니스 로직에만 집중할 수 있습니다.

  
